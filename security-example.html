<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secure Website Example</title>
    
    <!-- Security Headers via Meta Tags -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' https:; connect-src 'self';">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    <meta name="robots" content="noindex, nofollow">
    
    <!-- Prevent text selection and dragging -->
    <style>
        * {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            -webkit-touch-callout: none;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f0f0f0;
            position: relative;
            overflow-x: hidden;
        }
        
        .content {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .security-notice {
            background: #e8f5e8;
            border: 1px solid #4caf50;
            border-radius: 5px;
            padding: 15px;
            margin: 20px 0;
            color: #2e7d32;
        }
        
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: white;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            font-size: 24px;
            color: #666;
        }
        
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin-right: 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Invisible overlay to prevent certain interactions */
        .protection-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
        }
        
        /* Hide content initially */
        .main-content {
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }
        
        .main-content.loaded {
            opacity: 1;
        }
        
        /* Prevent image dragging */
        img {
            pointer-events: none;
            -webkit-user-drag: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        
        /* Warning message styling */
        .security-warning {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #ff4444;
            color: white;
            padding: 20px;
            border-radius: 10px;
            z-index: 10000;
            display: none;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
        }
    </style>
</head>
<body>
    <!-- No JavaScript fallback - Shows forever loading -->
    <noscript>
        <div class="loading-screen">
            <div class="spinner"></div>
            <div>Loading... Please enable JavaScript to continue.</div>
        </div>
        <style>
            .main-content { display: none !important; }
        </style>
    </noscript>
    
    <!-- Security warning popup -->
    <div class="security-warning" id="securityWarning">
        <h3>‚ö†Ô∏è Security Notice</h3>
        <p>Unauthorized access attempt detected!</p>
        <p>This action has been logged.</p>
    </div>
    
    <!-- Protection overlay -->
    <div class="protection-overlay"></div>
    
    <!-- Loading screen (removed by JavaScript when ready) -->
    <div class="loading-screen" id="loadingScreen">
        <div class="spinner"></div>
        <div>Loading secure content...</div>
    </div>
    
    <!-- Main content (hidden until JavaScript loads) -->
    <div class="main-content" id="mainContent">
        <div class="content">
            <h1>üîí Secure Website Example</h1>
            
            <div class="security-notice">
                <strong>Security Features Active:</strong><br>
                ‚úÖ Right-click disabled<br>
                ‚úÖ Developer tools blocked<br>
                ‚úÖ Keyboard shortcuts disabled<br>
                ‚úÖ Text selection prevented<br>
                ‚úÖ Content protection enabled
            </div>
            
            <h2>Your Protected Content</h2>
            <p>This is your valuable content that you want to protect from copying and inspection.</p>
            
            <h3>Sample Image</h3>
            <img src="https://via.placeholder.com/400x200/3498db/ffffff?text=Protected+Image" alt="Protected content" style="max-width: 100%; height: auto;">
            
            <h3>Important Information</h3>
            <p>This content is protected by multiple security layers to prevent unauthorized access and copying.</p>
            
            <div class="security-notice">
                <strong>Note:</strong> These are client-side protections. For complete security, always implement server-side validation and authentication.
            </div>
        </div>
    </div>

    <!-- Core Security JavaScript -->
    <script>
        // Security configuration
        const SECURITY_CONFIG = {
            showWarnings: true,
            warningDuration: 3000,
            logAttempts: true,
            redirectOnTamper: false,
            allowedDomains: ['localhost', '127.0.0.1', window.location.hostname]
        };

        // Initialize security when page loads
        document.addEventListener('DOMContentLoaded', function() {
            initializeSecurity();
            showMainContent();
        });

        // Show main content after security initialization
        function showMainContent() {
            setTimeout(() => {
                document.getElementById('loadingScreen').style.display = 'none';
                document.getElementById('mainContent').classList.add('loaded');
            }, 1000);
        }

        // Main security initialization
        function initializeSecurity() {
            // Disable right-click context menu
            document.addEventListener('contextmenu', function(e) {
                e.preventDefault();
                showSecurityWarning('Right-click disabled');
                return false;
            });

            // Disable text selection on double-click
            document.addEventListener('selectstart', function(e) {
                e.preventDefault();
                return false;
            });

            // Disable drag and drop
            document.addEventListener('dragstart', function(e) {
                e.preventDefault();
                return false;
            });

            // Block keyboard shortcuts
            document.addEventListener('keydown', function(e) {
                // F12 - Developer Tools
                if (e.keyCode === 123) {
                    e.preventDefault();
                    showSecurityWarning('Developer tools access blocked');
                    return false;
                }

                // Ctrl+Shift+I - Developer Tools
                if (e.ctrlKey && e.shiftKey && e.keyCode === 73) {
                    e.preventDefault();
                    showSecurityWarning('Developer tools access blocked');
                    return false;
                }

                // Ctrl+Shift+C - Element Inspector
                if (e.ctrlKey && e.shiftKey && e.keyCode === 67) {
                    e.preventDefault();
                    showSecurityWarning('Element inspector blocked');
                    return false;
                }

                // Ctrl+Shift+J - Console
                if (e.ctrlKey && e.shiftKey && e.keyCode === 74) {
                    e.preventDefault();
                    showSecurityWarning('Console access blocked');
                    return false;
                }

                // Ctrl+U - View Source
                if (e.ctrlKey && e.keyCode === 85) {
                    e.preventDefault();
                    showSecurityWarning('View source blocked');
                    return false;
                }

                // Ctrl+S - Save Page
                if (e.ctrlKey && e.keyCode === 83) {
                    e.preventDefault();
                    showSecurityWarning('Save page blocked');
                    return false;
                }

                // Ctrl+A - Select All
                if (e.ctrlKey && e.keyCode === 65) {
                    e.preventDefault();
                    showSecurityWarning('Select all blocked');
                    return false;
                }

                // Ctrl+P - Print
                if (e.ctrlKey && e.keyCode === 80) {
                    e.preventDefault();
                    showSecurityWarning('Print blocked');
                    return false;
                }

                // Additional security: Block Ctrl+Shift+K (Firefox Console)
                if (e.ctrlKey && e.shiftKey && e.keyCode === 75) {
                    e.preventDefault();
                    showSecurityWarning('Console access blocked');
                    return false;
                }
            });

            // Detect developer tools opening (basic detection)
            detectDevTools();
            
            // Anti-tampering measures
            implementAntiTampering();
            
            // Monitor for suspicious activity
            monitorSuspiciousActivity();
        }

        // Show security warning popup
        function showSecurityWarning(message) {
            if (!SECURITY_CONFIG.showWarnings) return;

            const warningDiv = document.getElementById('securityWarning');
            warningDiv.querySelector('p').textContent = message;
            warningDiv.style.display = 'block';

            // Log the attempt
            if (SECURITY_CONFIG.logAttempts) {
                console.warn('Security violation:', message, new Date().toISOString());
                // In a real application, you would send this to your server
                // logSecurityEvent(message);
            }

            // Hide warning after specified time
            setTimeout(() => {
                warningDiv.style.display = 'none';
            }, SECURITY_CONFIG.warningDuration);
        }

        // Basic developer tools detection
        function detectDevTools() {
            let devtools = {
                open: false,
                orientation: null
            };

            const threshold = 160;

            function checkDevTools() {
                if (window.outerHeight - window.innerHeight > threshold ||
                    window.outerWidth - window.innerWidth > threshold) {
                    if (!devtools.open) {
                        devtools.open = true;
                        showSecurityWarning('Developer tools detected');
                        
                        // Optional: Redirect or blur content
                        if (SECURITY_CONFIG.redirectOnTamper) {
                            window.location.href = 'about:blank';
                        }
                    }
                } else {
                    devtools.open = false;
                }
            }

            // Check every 500ms
            setInterval(checkDevTools, 500);
        }

        // Anti-tampering measures
        function implementAntiTampering() {
            // Obfuscate critical functions
            const criticalFunctions = [
                'eval', 'Function', 'setTimeout', 'setInterval'
            ];

            criticalFunctions.forEach(func => {
                if (window[func]) {
                    const original = window[func];
                    window[func] = function(...args) {
                        // Log potential tampering
                        console.warn('Suspicious function call:', func);
                        return original.apply(this, args);
                    };
                }
            });

            // Protect against common manipulation
            Object.defineProperty(window, 'console', {
                get: function() {
                    showSecurityWarning('Console access detected');
                    return console;
                },
                set: function(value) {
                    showSecurityWarning('Console manipulation detected');
                }
            });

            // Detect debugging
            let startTime = performance.now();
            debugger;
            if (performance.now() - startTime > 100) {
                showSecurityWarning('Debugger detected');
            }
        }

        // Monitor suspicious activity
        function monitorSuspiciousActivity() {
            // Monitor rapid key presses (potential bot activity)
            let keyPressCount = 0;
            let keyPressTimer;

            document.addEventListener('keydown', function() {
                keyPressCount++;
                
                clearTimeout(keyPressTimer);
                keyPressTimer = setTimeout(() => {
                    if (keyPressCount > 20) {
                        showSecurityWarning('Rapid key press detected');
                    }
                    keyPressCount = 0;
                }, 1000);
            });

            // Monitor mouse movements (basic bot detection)
            let mouseMovements = 0;
            let mouseTimer;

            document.addEventListener('mousemove', function() {
                mouseMovements++;
                
                clearTimeout(mouseTimer);
                mouseTimer = setTimeout(() => {
                    mouseMovements = 0;
                }, 1000);
            });

            // Check for automated tools
            if (navigator.webdriver) {
                showSecurityWarning('Automated tool detected');
            }
        }

        // Domain verification
        function verifyDomain() {
            const currentDomain = window.location.hostname;
            if (!SECURITY_CONFIG.allowedDomains.includes(currentDomain)) {
                showSecurityWarning('Unauthorized domain access');
                // Optionally redirect
                // window.location.href = 'https://your-official-domain.com';
            }
        }

        // Call domain verification
        verifyDomain();

        // Prevent iframe embedding (clickjacking protection)
        if (window.top !== window.self) {
            showSecurityWarning('Iframe embedding detected');
            window.top.location = window.location;
        }

        // Additional protection: Clear console periodically
        setInterval(() => {
            console.clear();
        }, 5000);

        // Integrity check - verify page hasn't been tampered with
        function checkIntegrity() {
            const expectedTitle = 'Secure Website Example';
            if (document.title !== expectedTitle) {
                showSecurityWarning('Page integrity compromised');
            }
        }

        // Run integrity check periodically
        setInterval(checkIntegrity, 2000);

        // Example API security function
        function secureApiCall(endpoint, data) {
            // Generate timestamp for request
            const timestamp = Date.now();
            
            // Example headers for API security
            const headers = {
                'Content-Type': 'application/json',
                'X-Requested-With': 'XMLHttpRequest',
                'X-Timestamp': timestamp,
                'X-Origin': window.location.origin,
                // Add your API key or JWT token here
                // 'Authorization': 'Bearer ' + getAuthToken(),
                // Add CSRF token if needed
                // 'X-CSRF-Token': getCSRFToken()
            };

            // Verify domain before making API call
            if (!SECURITY_CONFIG.allowedDomains.includes(window.location.hostname)) {
                console.error('API call blocked: Unauthorized domain');
                return Promise.reject('Unauthorized domain');
            }

            return fetch(endpoint, {
                method: 'POST',
                headers: headers,
                body: JSON.stringify(data),
                credentials: 'same-origin', // Important for CSRF protection
                mode: 'cors'
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.json();
            })
            .catch(error => {
                console.error('API call failed:', error);
                showSecurityWarning('API call failed');
                throw error;
            });
        }

        // Example usage of secure API call
        // secureApiCall('/api/data', { key: 'value' })
        //     .then(data => console.log('Success:', data))
        //     .catch(error => console.error('Error:', error));

        // Prevent common XSS attacks
        function sanitizeInput(input) {
            const div = document.createElement('div');
            div.textContent = input;
            return div.innerHTML;
        }

        // Example of input sanitization
        function handleUserInput(input) {
            const sanitized = sanitizeInput(input);
            // Use sanitized input safely
            return sanitized;
        }

        // Final security message
        console.log('%cüîí Security System Active', 'color: red; font-size: 20px; font-weight: bold;');
        console.log('%cThis website is protected by multiple security layers.', 'color: orange; font-size: 14px;');
        console.log('%cUnauthorized access attempts are logged and monitored.', 'color: orange; font-size: 14px;');
    </script>
</body>
</html>